# Руководство по развертыванию на VPS

## Автоматическая настройка через админ-панель

1. **Войдите как администратор:**
   - Логин: `adminik`
   - Пароль: `admin`

2. **Перейдите в раздел "Администрирование"**

3. **Откройте вкладку "Настройки VPS"**

4. **Нажмите кнопку "Авто"** - система автоматически определит адрес вашего VPS

5. **Нажмите "Сохранить и применить настройки"**

Готово! Все API запросы теперь будут работать с вашим VPS сервером.

---

## Ручная настройка (если автоопределение не сработало)

### Шаг 1: Определите адрес вашего сервера

Если ваш сайт доступен по адресу:
- `http://192.168.1.100` - локальная сеть
- `http://my-site.com` - доменное имя
- `http://45.123.45.67:3000` - IP с портом

### Шаг 2: Введите адрес в поле "Адрес API сервера"

Формат: `http://ваш-адрес:порт` (если нужен порт)

Примеры:
```
http://192.168.1.100:3000
http://my-site.com
https://api.my-site.com
```

### Шаг 3: Сохраните настройки

Нажмите кнопку "Сохранить и применить настройки"

---

## Что происходит при сохранении?

1. ✅ Все API запросы перенаправляются на новый адрес
2. ✅ Настройки сохраняются в localStorage браузера
3. ✅ Изменения применяются автоматически без перезагрузки страницы
4. ✅ Service Worker обновляет кэш для офлайн работы

---

## Экспорт/импорт настроек

### Экспорт настроек (для клонирования на другие устройства)

1. Перейдите на вкладку "Экспорт/Импорт"
2. Нажмите "Экспортировать"
3. Сохраните файл `server-config-YYYY-MM-DD.json`

### Импорт настроек

1. Перейдите на вкладку "Экспорт/Импорт"
2. Нажмите "Импортировать"
3. Выберите файл конфигурации
4. Готово! Настройки применены

---

## Смена учетных данных администратора

1. Перейдите на вкладку "Учетные данные"
2. Введите текущий пароль
3. Укажите новый логин и/или пароль
4. Подтвердите новый пароль
5. Нажмите "Изменить данные"

⚠️ **Важно:** Не забудьте новые учетные данные! Восстановление невозможно.

---

## Настройка базы данных (опционально)

Если ваш бэкенд работает с базой данных:

1. Откройте вкладку "Настройки VPS"
2. Введите строку подключения в поле "Database URL"

Формат:
```
postgresql://username:password@host:5432/database
```

Пример:
```
postgresql://admin:mypass123@192.168.1.100:5432/production_db
```

---

## Проверка работы

После настройки проверьте:

1. ✅ Вход в систему работает
2. ✅ Загрузка данных из разделов (Заявки, Склад и т.д.)
3. ✅ Создание/редактирование записей

Если что-то не работает - откройте консоль браузера (F12) и проверьте сетевые запросы.

---

## Troubleshooting

### Проблема: "Не удалось подключиться к серверу"

**Решение:**
1. Проверьте, что сервер запущен и доступен
2. Проверьте правильность адреса в настройках
3. Убедитесь, что указан правильный протокол (http/https)
4. Проверьте firewall и порты на сервере

### Проблема: CORS ошибки

**Решение:**
Убедитесь, что ваш бэкенд возвращает заголовки:
```
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
Access-Control-Allow-Headers: Content-Type
```

### Проблема: 404 Not Found

**Решение:**
1. Проверьте, что API endpoints настроены правильно
2. Убедитесь, что пути API совпадают с настройками
3. Проверьте логи сервера

---

## Дополнительная информация

- Настройки хранятся в localStorage браузера
- Каждый браузер/устройство требует отдельной настройки
- Используйте экспорт/импорт для быстрого развертывания
- Администратор работает локально и не зависит от сервера
